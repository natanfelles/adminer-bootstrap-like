/*!
 * Adminer Bootstrap-Like Design
 *
 * @author  Natan Felles, https://natanfelles.github.io <natanfelles@gmail.com>
 * @link    https://github.com/natanfelles/adminer-bootstrap-like
 * @link    https://www.adminer.org/plugins/#use
 * @license https://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0
 * @license https://www.gnu.org/licenses/gpl-2.0.html GNU General Public License, version 2 (one or other)
 */
!function(l){l.addEventListener("load",function(){o.init()},!1);var o={init:function(){o.h1=document.querySelector("#menu h1"),o.logins=document.getElementById("logins"),o.dbs=document.getElementById("dbs"),o.links=document.querySelector("#menu .links"),o.tables=document.getElementById("tables"),o.menuMessage=document.querySelector("#menu .message"),o.breadcrumb=document.getElementById("breadcrumb"),o.lang=document.getElementById("lang"),o.logout=document.getElementById("logout"),o.content=document.getElementById("content"),o.pages=document.getElementsByClassName("pages")[0],o.menu=document.getElementById("menu"),o.breadcrumb.innerHTML='<a href="#" id="toggle"></a>'+o.breadcrumb.innerHTML,o.setPositions(),o.setTables(),o.setToggle(),o.setScroller()},setScroller:function(){var e=document.getElementById("scroller"),t=e.querySelectorAll("a");function n(){l.innerHeight<l.innerHeight+document.documentElement.scrollTop?e.style.display="block":e.style.display="none"}n(),l.addEventListener("scroll",n),t[0].addEventListener("click",function(e){e.preventDefault(),l.scroll(0,0),document.body.scrollTop=0}),t[1].addEventListener("click",function(e){e.preventDefault(),l.scroll(0,document.body.scrollHeight)})},setPositions:function(){var e=!1;document.body.classList.contains("rtl")&&(e=!0),o.logins&&(o.logins.style.top=o.h1.offsetHeight-1+"px"),o.dbs&&(o.dbs.style.top=o.h1.offsetHeight+"px"),o.links&&(o.links.style.top=o.h1.offsetHeight+o.dbs.offsetHeight+"px"),o.tables&&(o.tables.style.top=o.h1.offsetHeight+o.dbs.offsetHeight+o.links.offsetHeight-1+"px"),o.menuMessage&&(o.menuMessage.style.top=o.h1.offsetHeight+o.dbs.offsetHeight+o.links.offsetHeight+"px"),o.lang&&o.logout&&(e?o.lang.style.left=o.logout.offsetWidth+8+"px":o.lang.style.right=o.logout.offsetWidth+8+"px"),o.content.style.minHeight=l.innerHeight-l.getComputedStyle(o.content,null).getPropertyValue("padding-top").replace("px","")-l.getComputedStyle(o.content,null).getPropertyValue("padding-bottom").replace("px","")-l.getComputedStyle(o.content,null).getPropertyValue("margin-top").replace("px","")-l.getComputedStyle(o.content,null).getPropertyValue("margin-bottom").replace("px","")+"px"},setTables:function(){if(o.tables){o.tables.style.height=l.innerHeight-o.tables.offsetTop+"px";for(var e=document.querySelectorAll("#tables li a"),t=0;t<e.length;t++)e[t].classList.contains("structure")&&(e[t].title=e[t].title+" - "+e[t].innerHTML,e[t].parentNode.addEventListener("click",function(){l.location=this.children[1].href}),200<e[t].offsetWidth&&(e[t].innerHTML=e[t].innerHTML.substring(0,28)+"...")),e[t].classList.contains("active")&&(e[t].parentNode.classList+="active");var n=document.querySelector("#tables .active");n&&(o.tables.scrollTop=n.offsetTop)}},setToggle:function(){var e=document.getElementById("toggle"),s=!1;function t(e){var t=document.getElementById("menu"),n=document.getElementById("content"),l=document.getElementById("breadcrumb"),o=document.querySelector(".footer p");"closed"===e?(t.style.display="none",s?n.style.marginRight=0:n.style.marginLeft=0,l&&(s?l.style.paddingRight="40px":l.style.paddingLeft="40px"),o&&(s?o.style.right=0:o.style.left=0),localStorage.setItem("menu","closed")):(t.style.display="block",s?n.style.marginRight="266px":n.style.marginLeft="266px",l&&(s?l.style.paddingRight="306px":l.style.paddingLeft="306px"),o&&(s?o.style.right="266px":o.style.left="266px"),localStorage.setItem("menu","open"))}document.body.classList.contains("rtl")&&(s=!0),t(localStorage.getItem("menu")),e.addEventListener("click",function(){t("open"===localStorage.getItem("menu")?"closed":"open")})}}}(window);
