/*!
 * Adminer Bootstrap-Like Design
 *
 * @author  Natan Felles, https://natanfelles.github.io <natanfelles@gmail.com>
 * @link    https://github.com/natanfelles/adminer-bootstrap-like
 * @link    https://www.adminer.org/plugins/#use
 * @license https://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0
 * @license https://www.gnu.org/licenses/gpl-2.0.html GNU General Public License, version 2 (one or other)
 */
(function(a){a.addEventListener("load",function(){b.init()},false);var b={init:function(){b.h1=document.querySelector("#menu h1");b.logins=document.getElementById("logins");b.dbs=document.getElementById("dbs");b.links=document.querySelector("#menu .links");b.tables=document.getElementById("tables");b.menuMessage=document.querySelector("#menu .message");b.breadcrumb=document.getElementById("breadcrumb");b.lang=document.getElementById("lang");b.logout=document.getElementById("logout");b.content=document.getElementById("content");b.pages=document.getElementsByClassName("pages")[0];b.menu=document.getElementById("menu");b.breadcrumb.innerHTML='<a href="#" id="toggle"></a>'+b.breadcrumb.innerHTML;b.setPositions();b.setTables();b.setToggle();b.setScroller()},setScroller:function(){var c=document.getElementById("scroller");var d=c.querySelectorAll("a");function e(){if(a.innerHeight<a.innerHeight+document.documentElement.scrollTop){c.style.display="block"}else{c.style.display="none"}}e();a.addEventListener("scroll",e);d[0].addEventListener("click",function(f){f.preventDefault();a.scroll(0,0);document.body.scrollTop=0});d[1].addEventListener("click",function(f){f.preventDefault();a.scroll(0,document.body.scrollHeight)})},setPositions:function(){var c=false;if(document.body.classList.contains("rtl")){c=true}if(b.logins){b.logins.style.top=b.h1.offsetHeight-1+"px"}if(b.dbs){b.dbs.style.top=b.h1.offsetHeight+"px"}if(b.links){b.links.style.top=b.h1.offsetHeight+b.dbs.offsetHeight+"px"}if(b.tables){b.tables.style.top=b.h1.offsetHeight+b.dbs.offsetHeight+b.links.offsetHeight-1+"px"}if(b.menuMessage){b.menuMessage.style.top=b.h1.offsetHeight+b.dbs.offsetHeight+b.links.offsetHeight+"px"}if(b.lang&&b.logout){var d=document.querySelector(".logout").clientWidth+20;if(c){b.lang.style.left=d+"px"}else{b.lang.style.right=d+"px"}}b.content.style.minHeight=a.innerHeight-a.getComputedStyle(b.content,null).getPropertyValue("padding-top").replace("px","")-a.getComputedStyle(b.content,null).getPropertyValue("padding-bottom").replace("px","")-a.getComputedStyle(b.content,null).getPropertyValue("margin-top").replace("px","")-a.getComputedStyle(b.content,null).getPropertyValue("margin-bottom").replace("px","")+"px"},setTables:function(){if(!b.tables){return}b.tables.style.height=a.innerHeight-b.tables.offsetTop+"px";var c=document.querySelectorAll("#tables li a");for(var d=0;d<c.length;d++){if(c[d].classList.contains("structure")){c[d].title=c[d].title+" - "+c[d].innerHTML;c[d].parentNode.addEventListener("click",function(){a.location=this.children[1].href});if(c[d].offsetWidth>200){c[d].innerHTML=c[d].innerHTML.substring(0,28)+"..."}}if(c[d].classList.contains("active")){c[d].parentNode.classList+="active"}}var e=document.querySelector("#tables .active");if(e){b.tables.scrollTop=e.offsetTop}},setToggle:function(){var c=document.getElementById("toggle");var d=false;if(document.body.classList.contains("rtl")){d=true}function e(h){var i=document.getElementById("menu");var g=document.getElementById("content");var j=document.getElementById("breadcrumb");var f=document.querySelector(".footer p");if(h==="closed"){i.style.display="none";if(d){g.style.marginRight=0}else{g.style.marginLeft=0}if(j){if(d){j.style.paddingRight="40px"}else{j.style.paddingLeft="40px"}}if(f){if(d){f.style.right=0}else{f.style.left=0}}localStorage.setItem("menu","closed")}else{i.style.display="block";if(d){g.style.marginRight="266px"}else{g.style.marginLeft="266px"}if(j){if(d){j.style.paddingRight="306px"}else{j.style.paddingLeft="306px"}}if(f){if(d){f.style.right="266px"}else{f.style.left="266px"}}localStorage.setItem("menu","open")}}e(localStorage.getItem("menu"));c.addEventListener("click",function(){var f=localStorage.getItem("menu")==="open"?"closed":"open";e(f)})}}})(window);